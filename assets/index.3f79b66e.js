const p=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=n(t);fetch(t.href,c)}};p();const h=document.querySelector(".boton-svg"),f=document.querySelector(".nav");h.addEventListener("click",()=>{f.classList.toggle("active")});window.addEventListener("scroll",()=>{document.querySelector("header").classList.toggle("sigue",window.scrollY>0)});class a{constructor(e,n,r,t,c,s){this.id=e,this.nombre=n,this.img=r,this.precio=t,this.plataforma=c,this.stock=s}descontarStock(e){return this.stock<=0?"Agotado":this.stock=this.stock-e}}const l=[],d=[],v=()=>{const o=new a(0,"God of War","./Img/godJuego.jpg",5e4,"PS4",7),e=new a(1,"GTA V","./Img/gtaJuego.jpg",3e4,"PS4",3),n=new a(2,"Uncharted","./Img/unchar.png",3e4,"PS4",5),r=new a(3,"Dragon Ball kakarot","./Img/dbzJuego.jpg",3e4,"PS4",2);l.push(o,e,n,r),JSON.stringify(l)},y=()=>{const o=new a(4,"Super Mario Odyssey","./Img/marioO.jpg",1e4,"Nintendo Switch",2),e=new a(5,"Super Smash Ultimate","./Img/superSmash.jpg",7e4,"Nintendo Switch",4),n=new a(6,"Pokemon let's Go Pikachu","./Img/pokemonPika.jpg",15e3,"Nintendo Switch",6),r=new a(7,"Zelda Breath of the wild","./Img/zelda.jpg",5e4,"Nintendo Switch",5);d.push(o,e,n,r)};v();y();const S=document.getElementById("contenedorJuegos"),u=o=>{o.forEach(e=>{let n=`
        <img src="${e.img}" class="img">
        <p class="nombreJuego">${e.nombre}</p>
        <div class="txtContenedor">
          <div class ="content">
            <p>Precio</p> <p class="precios" >${e.precio}</p>
          </div>
          <div class="content"> 
            <p>Stock </p><p class="stock">${e.stock}</p>
          </div>
       </div>
       <div class="id"><input type ="hidden" value =${e.id}></div>
        `;var r=document.createElement("div");r.setAttribute("class","contenedorJuego"),r.innerHTML=n,S.appendChild(r)})};u(l);u(d);function g(){const o=document.querySelectorAll(".contenedorJuego");for(let e=0;e<o.length;e++)o[e].addEventListener("click",function(){o[e].classList.toggle("seleccionado")})}g();const m=l.concat(d),k=document.getElementById("botonComprar");k.addEventListener("click",()=>{let o=0,e=[];const n=document.querySelectorAll(".contenedorJuego.seleccionado .id input "),r=document.querySelectorAll(".contenedorJuego.seleccionado .txtContenedor .content .stock");if(!confirm("Esta seguro de su compra ?"))alert("No se realizara la compra...");else{alert("Felicidades Por su Compra");for(let s=0;s<n.length;s++)m.forEach(i=>{i.id==n[s].value&&(i.stock==0?r[s].innerHTML="Agotado":(o+=i.precio,e.push(i.nombre+" :"+i.precio),r[s].innerHTML=i.descontarStock(1),i.stock==0&&(r[s].innerHTML="Agotado")),console.log(i.stock))});const c=e.join(`
`);alert(`Los items fueron:

`+c+`
La totalidad es: `+o)}});const w=document.getElementById("botonBuscar");w.addEventListener("click",()=>{b();const o=document.querySelector("#inputValorBuscarMenor").value,e=document.querySelector("#inputValorBuscarMayor").value;if(parseInt(o)>parseInt(e)){debugger;alert("Pone bien los valores")}else{const n=L("Precio",m,parseInt(o)||0,parseInt(e));console.log(n),u(n),g()}});function L(o,e,n=0,r=0){let t=[];switch(o){case"Precio":t=e.filter(c=>c.precio>=n&&c.precio<=r);break;case"1":t=1}return t}function b(){let o=document.querySelector(".contenedorJuegos"),e=o.lastElementChild;for(;e;)o.removeChild(e),e=o.lastElementChild}window.addEventListener("DOMContentLoaded",o=>{});
