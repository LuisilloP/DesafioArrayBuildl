const w=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}};w();const E=document.querySelector(".boton-svg"),I=document.querySelector(".nav"),p=document.querySelector(".btn-carrito"),q=document.querySelector(".btn-cierra-carrito"),h=document.querySelector(".fondo-carrito");E.addEventListener("click",()=>{I.classList.toggle("active")});p.addEventListener("click",()=>{h.classList.add("transition"),h.classList.toggle("active"),p.classList.add("desactivoBtnCarrito")});q.addEventListener("click",()=>{h.classList.remove("active"),p.classList.remove("desactivoBtnCarrito")});window.addEventListener("scroll",()=>{document.querySelector("header").classList.toggle("sigue",window.scrollY>0)});class d{constructor(t,o,r,n,c,m){this.id=t,this.nombre=o,this.img=r,this.precio=n,this.plataforma=c,this.stock=m}descontarStock(t){return this.stock<=0?"Agotado":this.stock=this.stock-t}}class x{constructor(t,o,r,n,c){this.id=t,this.nombre=o,this.precio=r,this.cantidad=n,this.img=c}multiplicarPrecio(t){return this.precio*t}sumaUnidad(t){this.cantidad=this.cantidad+t}}let i=[];function J(){let e=document.querySelectorAll(".radio-filter .boxRadio .radio-class");const t=document.querySelectorAll(".radio-class");for(let o=0;o<t.length;o++)t[o].addEventListener("click",()=>{t[o].checked?(e[o].classList.add("Check"),b(e[o].value,1)):(e[o].classList.remove("Check"),b(e[o].value,2))})}function b(e,t){const o=u.filter(r=>r.plataforma.includes(e));t==1?(i=i.concat(o),g(i)):t==2&&(i=i.filter(r=>!r.plataforma.includes(e)),g(i))}const P=document.querySelector("#inputNombre");console.log("aca 2");function C(e){e.addEventListener("input",t=>{g(i),e.value?(console.log(e.value),i=i.filter(o=>o.nombre.toLowerCase().includes(e.value.toLowerCase().trim())),console.log(i),i.length==0&&alert("No existen juegos con estas Caracteristicas"),g(i)):(i=u,g(i))})}C(P);const f=[],L=[],k=[],s=["PS4","Nintendo Switch","Xbox"];let a=[];const $=()=>{const e=new d(0,"God of War","./Img/ps4/godJuego.jpg",5e4,s[0],100),t=new d(1,"GTA V","./Img/ps4/gtaJuego.jpg",4e4,s[0],200),o=new d(2,"Uncharted","./Img/ps4/unchar.png",3e4,s[0],100),r=new d(3,"Dragon Ball kakarot","./Img/ps4/dbzJuego.jpg",3e4,s[0],100);f.push(e,t,o,r),JSON.stringify(f)},j=()=>{const e=new d(4,"Super Mario Odyssey","./Img/nintendoSwitch/marioO.jpg",1e4,s[1],100),t=new d(5,"Super Smash Ultimate","./Img/nintendoSwitch/superSmash.jpg",7e4,s[1],100),o=new d(6,"Pokemon let's Go Pikachu","./Img/nintendoSwitch/pokemonPika.jpg",15e3,s[1],200),r=new d(7,"Zelda Breath of the wild","./Img/nintendoSwitch/zelda.jpg",5e4,s[1],100);L.push(e,t,o,r)},A=()=>{const e=new d(8,"Halo 5","./Img/xbox/xbox.jpg",35e3,s[2],200),t=new d(9,"Minecraft","./Img/xbox/minecraft.jpg",2e4,s[2],100);k.push(e,t)};$();j();A();let S,u=f.concat(L);u=u.concat(k);const y=e=>{const t=document.getElementById("contenedorJuegos");return e.forEach(o=>{let r=`
        <img src="${o.img}" class="img">
        <p class="nombreJuego">${o.nombre}</p>
        <div class="txtContenedor">
          <div class ="content">
            <p>Precio</p> <p class="precios" >${o.precio}</p>
          </div>
          <div class="content"> 
            <p>Stock </p><p class="stock">${o.stock}</p>
          </div>
       </div>
       <div class="id"><input type ="hidden" value =${o.id}></div>
        `;var n=document.createElement("div");n.setAttribute("class","contenedorJuego"),n.innerHTML=r,t.appendChild(n)}),e},g=e=>{B(),e.length==0?(e=y(u),console.log(e)):y(e)};g(i);const M=document.querySelector("#inputNombre");C(M);const O=document.getElementById("botonComprar");O.addEventListener("click",()=>{if(a.length==0)alert("no hay nada en carro");else{let e="",t=0;a.forEach(o=>{e+=`Juego: ${o.nombre} Precio: $${o.precio} X ${o.cantidad}
`,t+=o.precio*o.cantidad,u.find(r=>{r.id==o.id&&(r.stock=r.stock-o.cantidad)}),console.log(u[o.id].stock)}),e+=`
 Su total es de $${t} gracias por su compra`,g(i)}});const N=e=>{let t=document.querySelector(".radio-filter");e.forEach(o=>{const r=document.createElement("DIV"),n=document.createElement("input"),c=document.createElement("label");n.type="checkbox",r.classList.add("boxRadio"),n.classList.add("radio-class"),n.value=o,c.textContent=o,r.appendChild(n),r.appendChild(c),t.appendChild(r)})};N(s);J();function B(){let e=document.querySelector(".contenedorJuegos"),t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild}function D(){const e=document.querySelectorAll(".contenedorJuego");console.log(e.length);for(let t=0;t<e.length;t++)e[t].addEventListener("dblclick",function(){console.log("hola");let o=document.querySelectorAll(".cantidad-carritoMod"),r=document.querySelectorAll(".id-carrito input");u.forEach(n=>{if(console.log("hola"),n.id==e[t].querySelector(".id input ").value){console.log("hola");let c=new x(n.id,n.nombre,n.precio,1,n.img);if(a.length==0)a.push(c),v(c);else if(!a.find(l=>l.id==c.id))console.log("no se encuentra el dato lo agregare"),a.push(c),v(c);else{console.log("Solo agregare la cantidad");for(let l=0;l<a.length;l++)c.id==r[l].value&&(a[l].cantidad=a[l].cantidad+1,o[l].innerHTML=parseInt(o[l].innerHTML)+1,console.log(a[l].cantidad))}}}),console.log(a),S=JSON.stringify(a),localStorage.setItem("carrito",S)})}D();const H=()=>{const e=localStorage.getItem("carrito"),t=JSON.parse(e);t===null?console.log("wit"):(a=t,t.forEach(o=>{v(o)}))};H();function v(e){const t=document.querySelector(".tbody-carrito");let o=`
    <td><img class="img-min-carrito" src="${e.img}"></td>
      <td>${e.nombre}</td>
      <td class="cantidad-carritoMod">${e.cantidad}</td>
      <td>${e.precio}</td>
      <td>Eliminar</td>
      <div class="id-carrito"><input type ="hidden" value =${e.id}></div>
      `;const r=document.createElement("tr");r.classList.add("JuegoCarrito"),r.innerHTML=o,t.appendChild(r)}window.addEventListener("DOMContentLoaded",e=>{alert("Doble Click agrega item al carrito")});
